extend type Query @guard {
    GetGeneralOverview(range: String): GeneralOverview!
        @field(resolver: "UserQuery@getGeneralOverview")
    GetMerchantOverview(range: String): BusinessOverview!
        @field(resolver: "UserQuery@getMerchantOverview")
    GetCustomerOverview(range: String): CustomerOverview!
        @field(resolver: "UserQuery@getCustomerOverview")
    GetTransactionOverview(range: String): TransactionOverview!
        @field(resolver: "UserQuery@getTransactionOverview")

    GetProfiles(
        where: _ @whereConditions(columns: ["user_type", "created_at"])
        whereUser: _
            @whereHasConditions(
                relation: "user"
                columns: ["first_name", "last_name", "email"]
            )
        whereUserRole: _
            @whereHasConditions(relation: "user.role", columns: ["name"])
        orderBy: _ @orderBy(columns: ["created_at"])
    ): [Profile!]! @paginate(model: "Profile")

    GetVerificationRequests(
        where: _ @whereConditions(columns: ["status", "created_at"])
        whereUser: _
            @whereHasConditions(
                relation: "user"
                columns: ["first_name", "last_name", "email"]
            )
        orderBy: _ @orderBy(columns: ["created_at"])
    ): [Verification!]! @paginate(model: "Verification")
}

extend type Mutation @guard {
    FreezeAccount(user_uuid: String!): Boolean!
        @field(resolver: "UserMutator@freeze")

    UnfreezeAccount(user_uuid: String!): Boolean!
        @field(resolver: "UserMutator@unfreeze")

    ApproveRejectVerificationRequest(
        user_uuid: String!
        verificationId: String!
        status: String!
    ): Boolean! @field(resolver: "UserMutator@approveReject")
}
